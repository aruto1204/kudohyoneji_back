# My Custom Blocks - 開発タスクリスト

## 📋 プロジェクト概要

**プロジェクト名**: My Custom Blocks  
**目的**: 工藤米治商店のWebサイト用WordPressカスタムブロックプラグイン開発  
**開始日**: 2024年XX月XX日  
**担当者**: 開発チーム

---

## 🎯 開発フェーズ別タスクリスト

### Phase 1: 初期セットアップ 🚀

#### 1.1 環境構築

- [x] **WordPress開発環境確認**
  - [x] `@wordpress/env` 動作確認
  - [x] Node.js (>=16.0.0) インストール確認
  - [x] npm (>=8.0.0) インストール確認
  - [x] PHP (>=7.4) インストール確認

#### 1.2 プロジェクト基盤

- [x] **ディレクトリ構造作成**
  - [x] `src/` ディレクトリ作成
  - [x] `src/blocks/` ディレクトリ作成
  - [x] `src/components/` ディレクトリ作成
  - [x] `src/hooks/` ディレクトリ作成
  - [x] `src/utils/` ディレクトリ作成

#### 1.3 設定ファイル

- [x] **メインプラグインファイル完成**

  - [x] `my-custom-blocks.php` 基本構造実装
  - [x] プラグインヘッダー情報設定
  - [x] セキュリティ対策（直接アクセス防止）
  - [x] 定数定義（VERSION, PATH, URL）
  - [x] ブロック初期化関数実装
  - [x] アセット読み込み関数実装

- [x] **ブロック設定ファイル作成**
  - [x] `block.json` 基本設定
  - [x] スキーマ設定
  - [x] ブロック属性定義
  - [x] サポート機能設定
  - [x] 例示データ設定

#### 1.4 依存関係確認

- [x] **package.json 設定確認**
  - [x] 必要な依存関係インストール済み確認
  - [x] ビルドスクリプト動作確認
  - [x] 開発スクリプト動作確認

---

### Phase 2: 基本ブロック開発 🔧

#### 2.1 エントリーポイント作成

- [x] **メインエントリーファイル**
  - [x] `src/index.js` 作成
  - [x] WordPress依存関係インポート
  - [x] ブロック登録インポート
  - [x] 初期化処理実装

#### 2.2 ブロック登録システム

- [x] **ブロック登録ファイル**
  - [x] `src/blocks/index.js` 作成
  - [x] サンプルブロックインポート
  - [x] 将来のブロック用コメント追加

#### 2.3 サンプルブロック実装

- [x] **サンプルブロックディレクトリ作成**

  - [x] `src/blocks/sample-block/` ディレクトリ作成

- [x] **ブロック登録ファイル**

  - [x] `src/blocks/sample-block/index.js` 作成
  - [x] registerBlockType実装
  - [x] メタデータインポート

- [x] **エディター画面コンポーネント**

  - [x] `src/blocks/sample-block/edit.js` 作成
  - [x] useBlockProps実装
  - [x] RichText実装
  - [x] BlockControls実装
  - [x] InspectorControls実装
  - [x] 属性管理実装

- [x] **保存コンポーネント**

  - [x] `src/blocks/sample-block/save.js` 作成
  - [x] useBlockProps.save実装
  - [x] RichText.Content実装
  - [x] 属性出力実装

- [x] **スタイル実装**
  - [x] `src/blocks/sample-block/style.scss` 作成
  - [x] 基本スタイル定義
  - [x] レスポンシブ対応
  - [x] エディター専用スタイル
  - [x] ホバー効果実装

---

### Phase 3: 共通システム開発 🛠

#### 3.1 ユーティリティ開発

- [x] **ヘルパー関数**
  - [x] `src/utils/helpers.js` 作成
  - [x] classNames関数実装
  - [x] updateAttribute関数実装
  - [x] getMediaDetails関数実装

#### 3.2 カスタムフック開発

- [x] **投稿データフック**
  - [x] `src/hooks/usePostData.js` 作成
  - [x] usePostData関数実装
  - [x] usePostMeta関数実装

#### 3.3 共通コンポーネント開発

- [x] **カスタムパネル**
  - [x] `src/components/CustomPanel.js` 作成
  - [x] 再利用可能なパネルコンポーネント実装

---

### Phase 4: 開発環境整備 ⚙️

#### 4.1 ビルドシステム

- [x] **開発モード確認**

  - [x] `npm run start` 動作確認
  - [x] ホットリロード動作確認
  - [x] `--webpack-copy-php` オプション確認

- [x] **本番ビルド確認**
  - [x] `npm run build` 動作確認
  - [x] `build/` ディレクトリ生成確認
  - [x] `index.asset.php` 生成確認

#### 4.2 品質管理ツール

- [x] **コード品質チェック**
  - [x] `npm run lint:js` 動作確認
  - [x] `npm run lint:css` 動作確認
  - [x] `npm run format` 動作確認

#### 4.3 開発ツール設定

- [x] **VSCode拡張機能**

  - [x] ES7+ React/Redux/React-Native snippets
  - [x] WordPress Snippets
  - [x] PHP Intelephense
  - [x] Prettier - Code formatter
  - [x] Auto Rename Tag

- [x] **ブラウザ拡張機能**
  - [x] React Developer Tools
  - [x] WordPress Debug Objects

---

### Phase 5: テスト・デバッグ 🧪

#### 5.1 機能テスト

- [x] **ブロックエディター動作確認**
  - [x] ブロック挿入テスト
  - [x] 属性変更テスト
  - [x] プレビュー表示テスト
  - [x] 保存・読み込みテスト

#### 5.2 表示テスト

- [x] **フロントエンド表示確認**
  - [x] デスクトップ表示確認
  - [x] タブレット表示確認
  - [x] スマートフォン表示確認

#### 5.3 互換性テスト

- [x] **ブラウザ互換性**
  - [x] Chrome 最新版
  - [x] Firefox 最新版
  - [x] Safari 最新版
  - [x] Edge 最新版

#### 5.4 デバッグ

- [x] **エラーチェック**
  - [x] ブラウザコンソールエラーなし
  - [x] PHP エラーログ確認
  - [x] WordPress デバッグログ確認

---

### Phase 6: パフォーマンス・アクセシビリティ 🚀

#### 6.1 パフォーマンス最適化

- [ ] **ビルド最適化**
  - [ ] バンドルサイズ確認
  - [ ] 不要な依存関係削除
  - [ ] コード分割検討

#### 6.2 アクセシビリティ

- [ ] **WCAG準拠チェック**
  - [ ] キーボードナビゲーション
  - [ ] スクリーンリーダー対応
  - [ ] カラーコントラスト確認
  - [ ] フォーカス表示確認

---

### Phase 7: ドキュメント・リリース準備 📚

#### 7.1 ドキュメント整備

- [ ] **README.md 作成**

  - [ ] インストール手順
  - [ ] 使用方法
  - [ ] 開発者向け情報

- [ ] **CHANGELOG.md 作成**
  - [ ] バージョン履歴
  - [ ] 変更内容記録

#### 7.2 リリース準備

- [ ] **最終チェック**

  - [ ] 全機能動作確認
  - [ ] セキュリティチェック
  - [ ] パフォーマンステスト

- [ ] **パッケージング**
  - [ ] 不要ファイル除外
  - [ ] プラグインZIP作成
  - [ ] インストールテスト

---

## 🚨 トラブルシューティングチェックリスト

### ブロックが表示されない場合

- [ ] プラグイン有効化確認
- [ ] `npm run start` 動作確認
- [ ] ブラウザコンソールエラーチェック
- [ ] `build/` ディレクトリ存在確認
- [ ] `my-custom-blocks.php` 構文エラーチェック

### ホットリロードが効かない場合

- [ ] `--webpack-copy-php` オプション確認
- [ ] ブラウザキャッシュクリア
- [ ] `wp-env restart` で環境再起動
- [ ] ポート競合確認
- [ ] ファイル権限確認

### スタイルが反映されない場合

- [ ] `build/index.css` 生成確認
- [ ] `wp_enqueue_style` 設定確認
- [ ] CSSセレクタ優先度調整
- [ ] ブラウザキャッシュクリア
- [ ] SCSS コンパイルエラーチェック

---

## 📊 進捗管理

### 完了率計算

- **Phase 1 (初期セットアップ)**: **16/16 タスク完了 (100%)**
- **Phase 2 (基本ブロック開発)**: **15/15 タスク完了 (100%)**
- **Phase 3 (共通システム開発)**: **6/6 タスク完了 (100%)**
- **Phase 4 (開発環境整備)**: **11/11 タスク完了 (100%)**
- **Phase 5 (テスト・デバッグ)**: **12/12 タスク完了 (100%)**
- **Phase 6 (パフォーマンス・アクセシビリティ)**: **0/7 タスク完了 (0%)**
- **Phase 7 (ドキュメント・リリース準備)**: **0/8 タスク完了 (0%)**

**全体進捗**: **60/75 タスク完了 (80%)**

---

## 📅 マイルストーン

| マイルストーン | 予定日         | 完了日     | ステータス    |
| -------------- | -------------- | ---------- | ------------- |
| Phase 1 完了   | 2024-XX-XX     | 2024-09-27 | ✅ 完了       |
| Phase 2 完了   | 2024-XX-XX     | 2024-09-27 | ✅ 完了       |
| Phase 3 完了   | 2024-XX-XX     | 2024-09-27 | ✅ 完了       |
| Phase 4 完了   | 2024-XX-XX     | 2024-09-27 | ✅ 完了       |
| Phase 5 完了   | 2024-XX-XX     | 2024-09-27 | ✅ 完了       |
| Phase 6 完了   | 2024-XX-XX     | -          | ⏳ 待機中     |
| Phase 7 完了   | 2024-XX-XX     | -          | ⏳ 待機中     |
| **リリース**   | **2024-XX-XX** | **-**      | **⏳ 待機中** |

---

## 📝 メモ・課題

### 技術的課題

- [ ]

### デザイン課題

- [ ]

### その他

- [ ]

---

**作成日**: 2024年XX月XX日  
**最終更新**: 2024年XX月XX日  
**バージョン**: 1.0.0  
**担当者**: 開発チーム
